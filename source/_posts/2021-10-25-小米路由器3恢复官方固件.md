---
title: 小米路由器3恢复官方固件
tags:
  - 路由器
  - Padavan
cover: 'https://i.loli.net/2021/11/25/YAtzRyPmw2q14OX.jpg'
abbrlink: a7b69dcb
date: 2021-10-25 23:30:50
---



家里升级了 300M 融合宽带，更换了新路由器 TP-LINK XDR3010 易展版，旧的小米路由器 3（MI R3）就想带回老家作为 AP 使用。家里本来就有一台小米路由器 R3G，想着同是原版固件的话设置起来比较方便，打算从 Padavan 刷回官方固件。



先是在恩山找到了恢复教程，最后的步骤提提示“mtd 命令不存在”，所以找到了另外一个在 ZNDS 的教程。这里把这两个教程汇总，方便后来人。



1. 下载小米路由器3开发版固件 [miwifi_r3_all_55ac7_2.11.20.bin](https://bigota.miwifi.com/xiaoqiang/rom/r3/miwifi_r3_all_55ac7_2.11.20.bin) ，复制到**FAT32单分区U盘**的根目录，重新命名为 **miwifi.bin**。

2. U盘插入路由器。

3. 使用 Padavan 内置的 SSH 网页版终端，或者 Putty 等连接路由器，输入如下命令，确认 U 盘的挂载位置。

   ```bash
   df -h
   ```

4. 下方参考文章中 `/dev/sda1` 的挂载点为 `/extdisks/sda1`，而我的挂载点是 `/media/NEW`，这里的 NEW 其实是 U 盘的名字，请根据实际情况修改。

5. 依次输入如下命令，等到最后命令完成，会提示 ok。

   ```bash
   cd /media/NEW #请根据实际情况修改
   dd if=miwifi.bin of=kernel0.bin bs=1 skip=94108 count=2284584
   cat << EOF > kernel0.md5
   62e96a64e21de9b176fd51336b963e2c  kernel0.bin
   EOF
   md5sum -cw kernel0.md5
   mtd_write write kernel0.bin Firmware_Stub
   ```

   

6. 断电，U盘插入路由器，上电，**等5秒** (**不可太早按下复位键，不要登陆 pb-boot**)，按住复位键不放直到**橙灯闪烁**才放开，再等数分钟直到**蓝灯长亮**。

7. 升级最新稳定版或开发版固件并恢复出厂设置。





> 参考文章：[小米路由器官方特定旧固件集合](https://www.right.com.cn/forum/forum.php?mod=redirect&goto=findpost&ptid=706545&pid=4555746)，[小米路由器3从第三方固件刷回官方固件](https://www.znds.com/tv-1201695-1-1.html)
